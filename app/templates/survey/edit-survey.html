{% extends "layout.html" %}

{% block title %}
    Edit Survey
{% endblock %}

{% block content %}
    <div class="max-w-3xl mx-auto mt-10 px-3 py-6 md:px-6 rounded-lg">
        <h2 class="text-2xl font-extrabold text-gray-100 mb-6 text-start">
            Edit Survey Details
        </h2>

        <form method="post" class="space-y-4">
            {% csrf_token %}

            <!-- Survey Title -->
            <div>
                <label for="survey_title" class="block text-sm font-medium text-gray-200">
                    Survey Title
                </label>
                <input type="text" id="survey_title" name="survey_title"
                    class="w-full mt-2 px-4 py-2 rounded-md shadow-sm outline-none border border-gray-200 text-gray-500"
                    placeholder="Edit Survey Title" value="{{survey_info}}" required>
            </div>

            {% for question in questions %}
            <!-- Question Text -->
            <div>
                <label for="question_text" class="block text-sm font-medium text-gray-200">
                    Question Text
                </label>
                <input type="text" id="question_text" name="question_text"
                class="w-full mt-2 px-4 py-2 rounded-md shadow-sm outline-none border border-gray-200 text-gray-500"
                placeholder="Enter the question" value="{{question.text}}" required>
            </div>

            <!-- Multiple Choice Options -->
            <div>
                <label class="block text-sm font-medium text-gray-200">
                    Choices
                </label>
                <div class="space-y-2 mt-2">
                        {% for choice in question.choices %}
                        <div>
                            <input type="text" name="choice_1"
                            class="w-full px-4 py-2 rounded-md shadow-sm outline-none border border-gray-200 text-gray-500"
                            placeholder="Choice 1" value="{{choice.text}}" required>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            {% endfor %}
            
            <!-- Add Question Button -->
            <div class="flex justify-end">
                <button type="submit" class="bg-blue-500 text-white font-medium px-4 py-2 rounded-md">
                    Add Question
                </button>
            </div>
        </form>
    </div>
    {% endblock %}